<style>
  
 .printshow{display:none;}
 
</style>
<section class="content-header">
  <h1>
    Project Management
    <small></small>
  </h1>
  <ol class="breadcrumb">
    <li><a href="#/"><i class="fa fa-dashboard"></i> Home</a></li>
    <li class="active">Design</li>
  </ol>
</section>

<section class="content">
  <div class="row">
      <div class="col-xs-12">
      <!-- general form elements -->
        <div class="box box-primary">
            <div class="box-header with-border">
              <h3 class="box-title">Add New Design Details</h3>
            </div>
              <!-- /.box-header --> 
            <div class="box-body">
                <div class="row">
                    <div class="col-lg-3">
                        <div class="form-group">
                            <label>Design No.</label>
                            <input type="text" id="dm_design_no" class="form-control" ng-model="design.dm_design_no" readonly />
                        </div>
                    </div>
                    <div class="col-lg-3">
                        <div class="form-group">
                            <label>Customer Name</label>
                            <input type="text"
                                id="dm_cm_id"
                                ng-model="design.dm_cm_id"
                                typeahead="obj as obj.cm_name for obj in getSearchCust($viewValue)"
                                typeahead-loading="loadingCustList"
                                typeahead-no-results="noCustListResults"
                                class="form-control">
                            <i ng-show="loadingCustList" class="glyphicon glyphicon-refresh"></i>
                            <div ng-show="noCustListResults">
                                <i class="glyphicon glyphicon-remove"></i> No Results Found
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-3">
                        <div class="form-group">
                            <label>Manufacturing Date</label>
                            <input type="text" id="dm_mft_date" class="form-control" ng-model="design.dm_mft_date" readonly/>
                        </div>
                    </div>
                    <div class="col-lg-3">
                        <div class="form-group">
                            <label>Delivery Date</label>
                            <input type="text" id="dm_dely_date" class="form-control" ng-model="design.dm_dely_date" readonly/>
                        </div>
                    </div>
                    <div class="col-lg-3">
                        <div class="form-group">
                            <label>Project No.</label>
                            <input type="number" id="dm_project_no" class="form-control" ng-model="design.dm_project_no" />
                        </div>
                    </div>
                    <div class="col-lg-3">
                        <div class="form-group">
                            <label>P.O No.</label>
                            <input type="number" id="dm_po_no" class="form-control" ng-model="design.dm_po_no" />
                        </div>
                    </div>
                    <div class="col-lg-3">
                        <div class="form-group">
                            <label>P.O Date</label>
                            <input type="text" id="dm_po_date" class="form-control" ng-model="design.dm_po_date" readonly />
                        </div>
                    </div>
                   
                </div><hr>
                  <!-- Row end  -->


                  <div class="row">
                    <div class="col-md-12">
                        <div class="panel panel-default">
                            <div class="panel-body">
                                 <div class="col-lg-3">
                                    <div class="form-group">
                                        <label>Part No</label>
                                        <input type="number" id="dtm_part_no" class="form-control" ng-model="material.dtm_part_no" />
                                    </div>
                                </div>
                                <div class="col-lg-3">
                                    <div class="form-group">
                                        <label>Part Name</label>
                                        <input type="text" id="dtm_part_name" class="form-control" ng-model="material.dtm_part_name" />
                                    </div>
                                </div>
                                <div class="col-lg-3">
                                    <div class="form-group">
                                        <label>Qty</label>
                                        <input type="number" id="dtm_qty" class="form-control" ng-model="material.dtm_qty" />
                                    </div>
                                </div>
                                <div class="col-lg-3">
                                    <div class="form-group" style="margin-top:23px;">
                                      <button  class="btn btn-success" type="submit" id="btnAddMaterial" ng-click="btnAddMaterial();"><i class="fa fa-plus-square" aria-hidden="true"></i> Add</button>
                                    </div>
                                </div>
                                <form>
                                    <table class="table table-striped table-bordered" id="content"  >
                                        <thead>
                                            <tr>
                                                <td colspan="5" style="text-align: center;"><b>BILL OF MATERIAL LIST</b></td> 
                                            </tr>
                                            <tr>
                                                <th>Sr. No</th>
                                                <th>Part No</th>
                                                <th>Part Name</th>
                                                <th>Qty</th>
                                                <th>Action</th>
                                                <!-- <th colspan="2">&nbsp;</th> -->
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr ng-repeat="materialDetail in materialDetails track by $index">
                                                <td>{{$index+1}}</td>
                                                <td>
                                                  <span class="printshow">
                                                    {{materialDetail.dtm_part_no}}
                                                  </span>
                                                  <span class="print-hide">
                                                    <input type="text" class="form-control" id="dtm_part_no" ng-model="materialDetail.dtm_part_no" required/>
                                                  </span>
                                                </td>
                                                <td>
                                                  <span class="printshow">
                                                    {{materialDetail.dtm_part_name}}
                                                  </span>
                                                  <span class="print-hide">
                                                    <input type="text" class="form-control" id="dtm_part_name" ng-model="materialDetail.dtm_part_name" required/>
                                                  </span>
                                                </td>
                                                <td>
                                                  <span class="printshow">
                                                    {{materialDetail.dtm_qty}}
                                                  </span>
                                                  <span class="print-hide">
                                                    <input type="number" class="form-control" id="dtm_qty" ng-model="materialDetail.dtm_qty" ng-change="calculate();" required/>
                                                  </span>
                                                </td>
                                                <td>
                                                  <!-- <input type="button" class="btn btn-danger" ng-click="remove()" value="Remove"> -->
                                                  <button  class="btn btn-danger" type="submit" id="btnAddItemLine" ng-click="removeMatItem($index)"><i class="fa fa-trash" aria-hidden="true"></i></button>
                                                </td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <td>&nbsp;</td>
                                                <td>&nbsp;</td>
                                                <td>&nbsp;</td>
                                                <td align="right"><b> Total:  {{design.totalQty}}</b></td>
                                                <td>&nbsp;</td>
                                            </tr>
                                        </tfoot>
                                    </table>

                                </form>
                            </div>
                        </div>
                    </div>
                </div>
                  <!-- Row end  -->

                <div class="row">
                  <div class="col-md-12">
                      <div class="panel panel-default">
                          <div class="panel-body">
                              <div class="col-sm-8">
                                <input type="hidden" id="im">
                                <img alt="your image" id="blah" height="100" width="100" ng-src="{{displayImage}}"/>
                                <input type='file' id="dm_image" name="dm_image" multiple onchange="checkButton(this)" />
                              </div>
                              <div class="col-sm-4"><br>
                                <button  class="btn btn-success" type="submit" id="btnAddCart" ng-click="addToCart();"><i class="fa fa-plus-circle" aria-hidden="true"></i> Add</button>
                              </div>
                              <div class="col-sm-12">
                                <table class="table table-striped table-bordered">
                                      <thead>
                                          <tr>
                                              <th>Drawing</th>
                                              <th>Action</th>
                                          </tr>
                                      </thead>
                                      <tbody>
                                          <tr ng-repeat="imageDetail in imageDetails">
                                              <td>
                                                 <img alt="your image" height="100" width="100" ng-src="{{imageDetail.dm_image_file}}"/></td>
                                              <td><button  class="btn btn-danger" type="submit" id="btnAddItemLine" ng-click="removeItem($index)"><i class="fa fa-minus-square" aria-hidden="true"></i></button></td>
                                          </tr>
                                      </tbody>
                                  </table>
                              </div>
                              <!-- <form ng-submit="addNewImg()">
                                  <table class="table table-striped table-bordered">
                                      <thead>
                                          <tr>
                                              <th>Select</th>
                                              <th>Drawing</th>
                                              <th>Select Image</th>
                                          </tr>
                                      </thead>
                                      <tbody>
                                          <tr ng-repeat="imageDetail in imageDetails">
                                              <td><input type="checkbox" ng-model="imageDetail.selected"    /></td>
                                              <td>
                                                 <img alt="your image" height="100" width="100" ng-src="{{displayImage}}"/></td>
                                              <td><input type='file' id="dm_image" name="dm_image" ng-model="imageDetail.srno" multiple required onchange="checkButton(this)" /></td>
                                          </tr>
                                      </tbody>
                                  </table>

                                  <div class="form-group">
                                      <input ng-hide="!imageDetails.length" type="button" class="btn btn-danger pull-right" ng-click="removed()" value="Remove">
                                      <input type="submit" class="btn btn-primary addnew pull-right" value="Add New">
                                  </div>
                              </form> -->
                          </div>
                      </div>
                  </div>
              </div>
               <!-- Row end  -->

            </div>
              <!-- /.box-body -->

            <div class="box-footer">
              <button type="button" class="btn btn-danger" onclick="window.location = '#/design'" id="btncancel">Back</button>
              <button type="submit" class="btn btn-success" id="btnsave" ng-click="addDesign()">Save</button>
            </div>
        </div>
          <!-- /.box -->
      </div>
        <!-- col-xs-12 -->
  </div>
    <!-- row -->
</section>